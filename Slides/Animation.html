<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title id="page-title">Game Dev Presentation</title>
		<link rel="icon" href="images/Unity-Icon.png">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="stylesheet" href="RevealJS/css/reset.css">
		<link rel="stylesheet" href="RevealJS/css/reveal.css">
		<link rel="stylesheet" href="RevealJS/css/custom.css">
		<link rel="stylesheet" href="RevealJS/css/theme/black.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="RevealJS/lib/css/vs2015.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'RevealJS/css/print/pdf.css' : 'RevealJS/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="RevealJS/lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<a href="./AI.html">
				<i id="next-exercise" class="fas fa-arrow-circle-right navigation-button next-exercise"></i>
			</a>
			<a href="./Physics.html">
				<i id="previous-exercise" class="fas fa-arrow-circle-left navigation-button previous-exercise"></i>
			</a>

			<div class="slides">
				<section>
					<h2 id="slides-title">Animation</h2>
					<img width="200" height="200" data-src="images/Unity-Logo.png" alt="Unity Logo">
				</section>

				<section>
					<h2>Are we recording?</h2>
					<img width="300" height="300" data-src="images/Cat-Cam.png" alt="Meow Cam">
				</section>

				<section>
					<h3>Review</h3>

					<p>What are bounding volumes?</p>
					<ul>
						<li class="fragment">Simple shapes containing a mesh or a 2D image used for calculating collisions</li>
						<li class="fragment">Offer better performance than using raw meshes for collisions</li>
					</ul>
				</section>

				<section>
					<h3>Review</h3>

					<p>What is a Rigidbody?</p>
					<ul>
						<li class="fragment">
							A component which allows a GameObject to be affected by physics
							based on its colliders
						</li>
						<li class="fragment">Adds physical properties like mass and drag</li>
					</ul>
				</section>

				<section>
					<h3>Review</h3>

					<p>What is a Raycast?</p>
					<ul>
						<li class="fragment">A ray that is fired from an origin in some direction</li>
						<li class="fragment">Gives information about the first collider it hits</li>
						<li class="fragment">Incredibly useful (gun shots, AI, line of sight...)</li>
					</ul>
				</section>

				<section>
					<h3>Types of animation</h3>

					<ul>
						<li>Skeletal Animation</li>
						<li>Blend Shapes (Morph Targets)</li>
						<li>Traditional (Sprite Sheet) Animation</li>
					</ul>
				</section>

				<section>
					<h3>Skeletal Animation</h3>

					<p>The character is split into:</p>

					<ul>
						<li>A mesh/skin
							<ul>
								<li>Used to draw the character</li>
							</ul>
						</li>

						<li>A set of bones and joints
							<ul>
								<li>Used to animate the character</li>
							</ul>
						</li>
						
						<li>The latter is also called a skeleton/animation rig/armature</li>
					</ul>
				</section>
				
				<section>
					<h3>Skeleton Rig Example</h3>
					<img height="500" src="images/Skeleton_Rig.png" alt="Skeleton Rig">
				</section>

				<section>
					<h3>
						Bone Parenting
						/ <br>
						Forward Kinematics (FK)
					</h3>

					<p>
						Bones can be parented.
						Bones down the parenting chain are affected by those above.
						For example if the shoulder bone moves 
							-> the hand bones will move as well.
					</p>
				</section>

				<section>
					<h3>Bone Weights</h3>

					<p>Each bone affects the vertices around it according to a specified weight</p>

					<img height="400" src="images/Bone-With-Weight-Paint.gif" alt="Bone with Weight Paint">
				</section>
		
				<section>
					<h3>Inverse Kinematics (IK)</h3>

					<p>How much a bone down the chain affects bones up the chain.</p>

					<img height="280" src="images/Inverse_Kinematics.gif" alt="Inverse Kinematics">
				</section>
				
				<section>
					<h3>Keyframes</h3>

					<p>
						Snapshots of the skeleton in the extreme positions of the animation.
						In-between frames are done by interpolationg between keyframes.
						This is called inbetweening or just tweening.
					</p>
				</section>
				
				<section>
					<h3>Skeletal Animation Example</h3>

					<img height="300" src="images/Skeletal_Animation.gif" alt="Skeletal Animation">
				</section>
				
				<section>
					<h3>
						JK :D 
						<br>
						Actual Example
					</h3>

					<img height="300" src="images/Skeletal_Walk.gif" alt="Skeletal Walk">
				</section>

				<section>
					<h3>Blend Shapes</h3>

					<ul>
						<li>Also a type of keyframe animation</li>
						<li>Keyframes are not snapshots of a skeleton but deformations of the base mesh</li>
						<li>More expensive than skeletal animation</li>
						<li>Generally used for elements that require detailed animation like the human face</li>
					</ul>
				</section>

				<section>
					<h3>Blend Shapes Example</h3>

					<img height="300" src="images/Blend_Shapes_Preview.gif" alt="Blend Shapes Preview">
				</section>

				<section>
					<h3>Sprites</h3>

					<p style="text-align: left;">Before we talk about sprite sheet animation we need to talk about sprites.</p>
					<p style="text-align: left;">Sprites in computer graphics are 2D images that are integrated into a larger scene.</p>
					<p style="text-align: left;">In Unity they are implemented with the Sprite Renderer component.</p>
				</section>

				<section>
					<h3>Sprites Sheets</h3>

					<ul>
						<li>Sprites that contains other smaller sprites</li>
						<li>Improve performance (locality)</li>
					</ul>

					<img height="280" src="images/Sprite_Sheet.png" alt="Sprite Sheet">
				</section>

				<section>
					<h3>Image Import Settings</h3>

					<ul>
						<li>Texture Type: Default -> Sprite</li>
						<li>Sprite Mode: Single -> Multiple
							<ul>
								<li>For Sprite Sheets</li>
							</ul>
						</li>
						<li>Filter Mode: Bilinear -> Point
							<ul>
								<li>For Pixel Art</li>
							</ul>
						</li>
					</ul>
				</section>

				<section>
					<h3>Sprite Editor</h3>

					<ul>
						<li>Breaks up the Sprite Sheet into individual Sprites</li>
						<li>Individual sprites are defined by:
							<ul>
								<li>x and y offset</li>
								<li>width and height</li>
							</ul>
						</li>
						<li>Unity can slice the sprite sheet for you automatically</li>
					</ul>
				</section>

				<section>
					<h3>The Sprite Renderer Component</h3>
					
					<ul>
						<li>Draws an image with Texture Type: Sprite</li>
						<li>Allows for color tint</li>
						<li>Sorting Layers allow for sprites to be properly drawn one over the other
							<ul>
								<li>Sprites in a higher Sorting Layer are drawn over Sprites in a lower Sorting Layer</li>
								<li>Sprites with a higher Order in Layer are drawn over Sprites with a lower sorting layer</li>
							</ul>
						</li>
					</ul>
				</section>

				<section>
					<h3>Z Sorting</h3>

					<ul>
						<li>An alternative to Sorting Layers</li>
						<li>Utilizes that the engine is 3D</li>
						<li>Sprites with a higher transform.z value are drawn over Sprites with a lower value</li>
					</ul>
				</section>

				<section>
					<h3>Sprite Sheet Animation Example</h3>

					<img height="350" src="images/Sprite_Sheet_Animation.gif" alt="Sprite Sheet Animation">
				</section>
				
				<section>
					<h3>Animation in Unity</h3>

					<ul>
						<li>Select the GameObject that you want to animate</li>
						<li>Open the Animation window in <br>Window/Animation/Animation</li>
						<li>Click "Create". This will:
							<ul>
								<li>Create an Animation Clip</li>
								<li>Create an Animation Controller</li>
								<li>Add the Animator Component to your GameObject</li>
							</ul>
						</li>
					</ul>
				</section>
				
				<section>
					<h3>Animation Clip</h3>

					<ul>
						<li>Collection of keyframes
							<ul>
								<li>Keyframes are snapshots of the properties of the GameObjects and its children</li>
								<li>Controlled in the Dopesheet menu</li>
							</ul>
						</li>
						<li>Collection of inteprolating curves(splines)
							<ul>
								<li>Controlled in the Curves menu</li>
							</ul>
						</li>
						<li>Can have events happen on particular frames of the animation</li>
					</ul>
				</section>
								
				<section>
					<h3>Animation Clip Live Demo</h3>
				</section>

				<section>
					<h3>Animator</h3>

					<ul>
						<li>A window showing the animation controller which is finite state automaton that controlls the transition between animation clips</li>
						<li>
							Open by double clicking the created .controller file or go to 
							<br>
							Window/Animation/Animator
						</li>
					</ul>
				</section>

				<section>
					<h3>Animator Preview</h3>

					<img width="800" src="images/Animator.png" alt="Animator">
				</section>

				<section>
					<h3>Animator Parameters</h3>

					<ul>
						<li>Help control the animation state</li>
						<li>Can be bool, float, int, trigger</li>
					</ul>
				</section>

				<section>
					<h3>Animation Transitions</h3>
					<ul>
						<li>Change the current animation clip based on some condition</li>
						<li>Exit Time
							<ul>
								<li>The exact time at which the change will occur</li>
							</ul>
						</li>
						<li>Transiton Duration
							<ul>
								<li>How long the transition will take</li>
							</ul>
						</li>
					</ul>
				</section>

				<section>
					<h3>Animation Transitions Preview</h3>

					<img height="400" src="images/Animation_Transitions.png" alt="Animation Transitions">
				</section>
				
				<section>
					<h3>Blend Trees</h3>

					<p>Blend between animations to get a new one</p>

					<img height="330" src="images/Blend_Trees.gif" alt="Blend Trees">
				</section>

				<section>
					<h3>Animator Live Demo</h3>
				</section>

				<section>
					<h3>Animator in Code</h3>

					<pre>
						<code class="language-cs hljs">
	Animator animator = GetComponent&lt;Animator&gt;();
	animator.SetBool(   "ParameterName", true);
	animator.SetFloat(  "ParameterName", 1f);
	animator.SetInteger("ParameterName", 1);
	animator.SetTrigger("ParameterName");
						</code>
					</pre>
				</section>
				
				<section>
					<h3>Important!</h3>

					<p>
						Update in scripts happens before the animator update.
						This means that changes in the animator will override changes in script.
						To overcome this we should use proper GameObject heirarchies and animate the children. 
					</p>
				</section>
				
				<section>
					<h3>Extra Resources</h3>

					<ul>
						<li><a href="https://www.youtube.com/watch?v=ts24UWC0mY4">Animatiоn 101</a></li>
						<li><a href="https://www.youtube.com/watch?v=QN3joSQyzQQ">Animatiоn 102</a></li>
						<li><a href="https://www.youtube.com/watch?v=jp_SqjB0468&list=PLFt_AvWsXl0f4c56CbvYi038zmCmoZ4CQ&index=3">Skeletal Animation in Blender</a></li>
						<li><a href="https://www.youtube.com/watch?v=eXIuizGzY2A">Skeletal Аnimation in 2D</a></li>
				</section>

				<section>
					<h3>Questions?</h3>

					<img height="300" data-src="images/Question-Cat-5.png" alt="Question Cat">
				</section>
			</div>

		</div>

		<a href="https://github.com/Ivan-Vankov/GameDevCourse#readme"><i class="fa fa-home navigation-button home"></i></a>

		<div id="slides-title-div">
			<p id="slides-title-meta"></p>
			<script>
				var slides_title = document.getElementById("slides-title").innerHTML;
				document.getElementById("slides-title-meta").innerHTML = slides_title;
				document.getElementById("page-title").innerHTML = slides_title;
			</script>
		</div>

        <script src="RevealJS/js/setup-exercise-navigation.js"></script>

		<script src="RevealJS/js/reveal.js"></script>

		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				center: true,
				hash: true,
				mouseWheel: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'RevealJS/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'RevealJS/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'RevealJS/plugin/highlight/highlight.js' },
					{ src: 'RevealJS/plugin/search/search.js', async: true },
					{ src: 'RevealJS/plugin/zoom-js/zoom.js', async: true },
					{ src: 'RevealJS/plugin/notes/notes.js', async: true },
					{ src: 'RevealJS/plugin/menu/menu.js', async: true }
				]
			});

			Reveal.configure({ slideNumber: 'c/t' });

			Reveal.addEventListener('hide-exercise-navigation-arrows', function() {
				document.getElementById('next-exercise').style.visibility = 'hidden';
				document.getElementById('previous-exercise').style.visibility = 'hidden';
			});

			Reveal.addEventListener('show-left-exercise-navigation-arrow', function() {
				let previousExerciseButton = document.getElementById('previous-exercise');
				previousExerciseButton.classList.add('fade-in');
				setTimeout(() => {
					previousExerciseButton.classList.remove('fade-in');
				}, 500);
				document.getElementById('next-exercise').style.visibility = 'hidden';
				previousExerciseButton.style.visibility = 'visible';
			});

			Reveal.addEventListener('show-right-exercise-navigation-arrow', function() {
				let nextExerciseButton = document.getElementById('next-exercise');
				nextExerciseButton.classList.add('fade-in');
				setTimeout(() => {
					nextExerciseButton.classList.remove('fade-in');
				}, 500);
				nextExerciseButton.style.visibility = 'visible';
				document.getElementById('previous-exercise').style.visibility = 'hidden';
			});

			// Set the theme to a combination of blood and black
			document.getElementById('theme').setAttribute('href','RevealJS/css/theme/custom_theme.css'); 
		</script>

	</body>
</html>
