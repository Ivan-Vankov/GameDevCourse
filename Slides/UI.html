<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title id="page-title">Game Dev Presentation</title>
		<link rel="icon" href="images/Unity-Icon.png">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="stylesheet" href="RevealJS/css/reset.css">
		<link rel="stylesheet" href="RevealJS/css/reveal.css">
		<link rel="stylesheet" href="RevealJS/css/custom.css">
		<link rel="stylesheet" href="RevealJS/css/theme/black.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="RevealJS/lib/css/vs2015.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'RevealJS/css/print/pdf.css' : 'RevealJS/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="RevealJS/lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<a href="https://github.com/Ivan-Vankov/GameDevCourse#readme">
				<i id="next-exercise" class="fas fa-arrow-circle-right navigation-button next-exercise"></i>
			</a>
			<a href="./AI.html">
				<i id="previous-exercise" class="fas fa-arrow-circle-left navigation-button previous-exercise"></i>
			</a>

			<div class="slides">
				<section>
					<h2 id="slides-title">User Interface</h2>
					<img width="200" height="200" data-src="images/Unity-Logo.png" alt="Unity Logo">
				</section>

				<section>
					<h2>Are we recording?</h2>
					<img width="300" height="300" data-src="images/Cat-Cam.png" alt="Meow Cam">
				</section>

				<section>
					<h3>Review</h3>

					<p>What is a Waypoint Graph and what problem does it solve?</p>
					<ul>
						<li class="fragment">It solves the pathfinding problem</li>
						<li class="fragment">
							Vertices repsesent safe(walkable) spots and edges represent 
							that the space between vertices is walkable
						</li>
					</ul>
				</section>

				<section>
					<h3>Review</h3>

					<p>What is a NavMesh?</p>
					<ul>
						<li class="fragment">
							–ê collection of polygons that define what parts 
							of the terrain are traversable by agents
						</li>
					</ul>
				</section>

				<section>
					<h3>Review</h3>

					<p>How is State Machine AI done in Unity?</p>
					<ul>
						<li class="fragment">Integrated with the animation system</li>
						<li class="fragment">Each state has one or more StateMachineBehaviours</li>
						<li class="fragment">
							Each StateMachineBehaviour implements some AI 
							logic with OnStateXXX methods
						</li>
					</ul>
				</section>

				<section>
					<h3>User Interface Definition</h3>

                    <ul>
						<li>Everything that lets the player interact with the game</li>
						<li>
							By UI people generally mean GUI 
							<br>
							(Graphical User Interface)
						</li>
                        <li>The most common use cases for UI are:
                            <ul>
                                <li>Main Menu</li>
                                <li>Options Menu</li>
                                <li>Heads-up Display (HUD)</li>
                                <li>Health Bar</li>
                                <li>Inventory</li>
                            </ul>
                        </li>
					</ul>
				</section>
				
				<section>
					<h3 style="visibility: hidden; position: fixed;">UI Preview</h3>

					<img height="500" src="images/UI.png">
					<br>
					<a href="https://www.unrealengine.com/marketplace/en-US/product/flat-cartoon-gui-pack/reviews">
						Flat Cartoon GUI by RainbowArt
					</a>
                </section>
                
				<section>
					<h3>Localization and Internationalization</h3>

                    <ul>
						<li>Localization (l10n) is adapting the UI 
							for a specific language and culture (locale)
							<ul>
								<li>Some languages are written right to left</li>
								<li>In some languages a word with more letters is shorter that a word with fewer letters</li>
							</ul>
						</li>
                        <li>Internationalization (i18n) is designing your UI so that l10n is easy</li>
					</ul>
				</section>

				<section>
					<h3>Fonts</h3>

					<ul>
						<li>Raster fonts: every character is a 2D image</li>
						<li>Vector fonts:
							<ul>
								<li>TrueType: straight lines and Bezier curves</li>
								<li>Signed Distance Field (SDF): 
									a pixel is treated not as intensity but as the distance 
									to the nearest non-black part of the character
									<ul>
										<li>
											The prefered way of doing fonts in Unity 
											<br>
											(Text Mesh PRO)</li>
									</ul>
								</li>
							</ul>
						</li>
					</ul>
				</section>
				
				<section>
					<h3 style="visibility: hidden; position: fixed;">Raster vs SDF Fonts</h3>

					<img height="500" src="images/Raster-vs-SDF.png">
					<br>
					<a href="https://css-tricks.com/techniques-for-rendering-text-with-webgl/">
						Source
					</a>
				</section>
				
				<section>
					<h3>UI in Unity</h3>

					<ul>
						<li>GameObject based</li>
						<li>Has a few inbuilt UI components but allows for custom ones</li>
						<li>Handles positioning, anchoring, styling</li>
						<li>Can edit UI directly in the editor</li>
						<li>There is also an option to draw UI with the <a href="https://docs.unity3d.com/ScriptReference/MonoBehaviour.OnGUI.html"></a>OnGUI method</li>
					</ul>
				</section>
				
				<section>
					<h3><span class="unity-callback">O<span class="lowercase">n</span>GUI</span> Preview</h3>
					
					<img height="220" src="images/OnGUI.png">
				</section>
                
				<section>
					<h3>Canvas</h3>

					<ul>
						<li>The area where UI elements reside</li>
						<li>All UI elements are children of a canvas</li>
						<li>Render Modes:
							<ul>
								<li>Screen Space - Overlay: renders on top of the scene</li>
								<li>World Space: behaves like a normal GameObject</li>
							</ul>
						</li>
						<li>UI Scale Mode:
							<ul>
								<li>Constant Pixel Size: elements remain a constant size</li>
								<li>Scale With Screen Size: the screen resizes -> the UI elements resize</li>
							</ul>
						</li>
					</ul>
				</section>
				
				<section>
					<h3>Event System</h3>

					<ul>
						<li>
							Is automatically added to the scene along with a 
							canvas when adding any UI element to the scene
						</li>
						<li>Handles events like mouse and touch</li>
						<li>Can tap into it by implementing these interfaces:
							<ul>
								<li>IPointerEnterHandler</li>
								<li>IPointerExitHandler</li>
								<li>IPointerClickHandler</li>
							</ul>
						</li>
					</ul>
                </section>
                
				<section>
					<h3><span class="clazz">R<span class="lowercase">ect</span>T<span class="lowercase">ransform</span></span></h3>
					
					<ul>
						<li>Every UI element has a RectTransform instead of a regular Transform. It has a:</li>
							<ul>
								<li>Pivot: point relative to which the element is rotated</li>
								<li>Anchor: points relative to which the element is positioned</li>
							</ul>
						</li>
					</ul>

					
					<img height="220" src="images/RectTransform.png">
                </section>

				<section>
					<h3>UI Components</h3>

                    <ul>
                        <li>Text</li>
                        <li>Image</li>
                        <li>Button</li>
                        <li>Toggle</li>
                        <li>Slider</li>
                        <li>Input Field</li>
                        <li>Panel</li>
                    </ul>
                </section>

                <section>
					<h3>Text Mesh Pro</h3>

                    <ul>
                        <li>An implementation of SDF for Unity fonts</li>
                        <li>
							To make a font into a TMP font go to:
							<br>
							Window/TextMeshPro/Font Asset Creator
						</li>
					</ul>		
					<br>
					<img height="200" src="images/TextMeshPRO.gif">
                </section>
				
				<section>
					<h3>Layout Group Components</h3>

					<p>They help organize groups of UI elements</p>

					<div style="display: flex; justify-content:baseline">
						<ul>
							<li>Horizontal Layout Group</li>
							<li>Vertical Layout Group</li>
							<li>Layout Element</li>
						</ul>

						<div style="flex-grow: 0.5;"></div>

						<img height="250" src="images/Vertical_Layout_Group.gif">
					</div>
                </section>

				<section>
					<h3><span class="clazz">U<span class="lowercase">nity</span>E<span class="lowercase">vent</span></span></h3>

					<ul>
                        <li>Same as a regular event but visible in the Editor</li>
                        <li>Used in UI callbacks like OnClick
							<ul>
								<li>A designer can assign OnClick behaviour without writing code</li>
							</ul>
						</li>
					</ul>
					<br>
					<img height="200" src="images/UnityEvent.png">
                </section>

				<section>
					<h3>UI in Code</h3>

					<pre><code>using UnityEngine.UI;
using TMPro;

public class MenuItem : MonoBehaviour, 
                        IPointerEnterHandler, 
                        IPointerExitHandler,
                        IPointerClickHandler {

    public Text regularUIText;
    public TextMeshProUGUI tmpText;
    public UnityEvent OnClick;

    public void OnPointerEnter(PointerEventData eventData) { 
        tmpText.text = "...";
        //...
    }

    public void OnPointerExit(PointerEventData eventData) {
        //...
    }

    public void OnPointerClick(PointerEventData eventData) {
        OnClick?.Invoke();
    }
}</code></pre>
                </section>
                
				<section>
					<h3>Unity GUI Live Demo</h3>
                </section>
                
				<section>
                    <h3>Extra Resources</h3>
					
					<ul>
						<li>
							<a href="https://docs.unity3d.com/Packages/com.unity.ugui@1.0/manual/index.html">
								Unity UI Documentation
							</a>
						</li>
						<li>
							<a href="https://youtu.be/HwdweCX5aMI">
								Making Good-Looking UI
							</a>
						</li>
						<li>
							<a href="https://youtu.be/vqZjZ6yv1lA">
								Nice Animated Start Menu
							</a>
						</li>
					</ul>
				</section>
                
				<section>
					<h3>Questions?</h3>

					<img height="300" data-src="images/GUI-Cat-7.jpg" alt="GUI Cat">
				</section>
			</div>
		</div>

		<a href="https://github.com/Ivan-Vankov/GameDevCourse#readme">
			<i class="fa fa-home navigation-button home"></i>
		</a>	

		<div id="slides-title-div">
			<p id="slides-title-meta">UI</p>
			<script>
				var slides_title = document.getElementById("slides-title").innerHTML;
				document.getElementById("page-title").innerHTML = slides_title;
			</script>
		</div>

        <script src="RevealJS/js/setup-exercise-navigation.js"></script>

		<script src="RevealJS/js/reveal.js"></script>

		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				center: true,
				hash: true,
				mouseWheel: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'RevealJS/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'RevealJS/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'RevealJS/plugin/highlight/highlight.js' },
					{ src: 'RevealJS/plugin/search/search.js', async: true },
					{ src: 'RevealJS/plugin/zoom-js/zoom.js', async: true },
					{ src: 'RevealJS/plugin/notes/notes.js', async: true },
					{ src: 'RevealJS/plugin/menu/menu.js', async: true }
				]
			});

			Reveal.configure({ slideNumber: 'c/t' });

			Reveal.addEventListener('hide-exercise-navigation-arrows', function() {
				document.getElementById('next-exercise').style.visibility = 'hidden';
				document.getElementById('previous-exercise').style.visibility = 'hidden';
			});

			Reveal.addEventListener('show-left-exercise-navigation-arrow', function() {
				let previousExerciseButton = document.getElementById('previous-exercise');
				previousExerciseButton.classList.add('fade-in');
				setTimeout(() => {
					previousExerciseButton.classList.remove('fade-in');
				}, 500);
				document.getElementById('next-exercise').style.visibility = 'hidden';
				previousExerciseButton.style.visibility = 'visible';
			});

			Reveal.addEventListener('show-right-exercise-navigation-arrow', function() {
				let nextExerciseButton = document.getElementById('next-exercise');
				nextExerciseButton.classList.add('fade-in');
				setTimeout(() => {
					nextExerciseButton.classList.remove('fade-in');
				}, 500);
				nextExerciseButton.style.visibility = 'visible';
				document.getElementById('previous-exercise').style.visibility = 'hidden';
			});

			// Set the theme to a combination of blood and black
			document.getElementById('theme').setAttribute('href','RevealJS/css/theme/custom_theme.css'); 
		</script>

	</body>
</html>
